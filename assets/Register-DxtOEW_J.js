import{c as R,a as k,r as o,u as B,b as z,j as e,B as h,C as T,T as f,F as u,d as N,I as p,O as j,e as y,f as v,V as P,g as S,h as W,i as Z,L as q}from"./index-mwBJD4E4.js";const G=async(a,s,t,l,i)=>{if(console.log(a,s,t),!a||!s){i.show("Provide Email and Password",{severity:"error",autoHideDuration:3e3});return}if(t!=s){i.show("Password are not matching",{severity:"error",autoHideDuration:3e3});return}try{await R(k,a,s),i.show("Successfull Sign Up Please Login",{severity:"success",autoHideDuration:3e3}),l("/")}catch(n){console.log(n),n.code==="auth/email-already-in-use"?i.show("Email Already Exists",{severity:"error",autoHideDuration:3e3}):i.show("Password should be at least 6 characters ",{severity:"error",autoHideDuration:3e3})}},J=a=>{let s=[1,2,3,4,5];return a.length<8&&(s=s.filter(t=>t!==1)),/[A-Z]/.test(a)||(s=s.filter(t=>t!==2)),/[a-z]/.test(a)||(s=s.filter(t=>t!==3)),/[0-9]/.test(a)||(s=s.filter(t=>t!==4)),/[^a-zA-Z0-9]/.test(a)||(s=s.filter(t=>t!==5)),s.length===5?{isValid:!0,errorMessage:s}:{isValid:!1,errorMessage:s}};function Q(){const[a,s]=o.useState(""),[t,l]=o.useState(""),[i,n]=o.useState(""),[C,b]=o.useState([]),[E,M]=o.useState(!1),[d,V]=o.useState(!1),[c,A]=o.useState(!1),[w,m]=o.useState(!1),D=B(),x=z(),H=r=>{const{isValid:g,errorMessage:L}=J(r);b(L),M(g),m(!g)},I=async r=>{r.preventDefault(),E?await G(a,t,i,D,x):x.show("Create a Strong password",{severity:"error",autoHideDuration:3e3})},O=()=>{V(r=>!r)},U=()=>{A(r=>!r)},F=[{id:1,errorMsg:"At least 8 characters"},{id:2,errorMsg:"One uppercase letter"},{id:3,errorMsg:"One lowercase letter"},{id:4,errorMsg:"One number"},{id:5,errorMsg:"One special character"}];return e.jsx(h,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:e.jsxs(T,{sx:{p:4,width:{xs:"100%",sm:500},boxShadow:3},children:[e.jsxs(h,{onSubmit:I,component:"form",display:"flex",flexDirection:"column",gap:2,children:[e.jsx(f,{component:"h1",variant:"h4",sx:{width:"100%",fontSize:"clamp(2rem, 10vw, 2.15rem)"},children:"Register"}),e.jsx(u,{children:e.jsx(N,{id:"outlined-basic",label:"Email",variant:"outlined",input:a,onChange:r=>s(r.target.value)})}),e.jsxs(u,{variant:"outlined",children:[e.jsx(p,{htmlFor:"outlined-adornment-password",children:"Password"}),e.jsx(j,{id:"outlined-adornment-password",type:d?"text":"password",error:w,onChange:r=>{m(!0),l(r.target.value),H(r.target.value)},endAdornment:e.jsx(y,{position:"end",children:e.jsx(v,{"aria-label":d?"hide the password":"display the password",onClick:O,edge:"end",children:d?e.jsx(P,{}):e.jsx(S,{})})}),label:"Password"})]}),e.jsxs(u,{variant:"outlined",children:[e.jsx(p,{htmlFor:"outlined-adornment-confirm-password",children:"Confirm Password"}),e.jsx(j,{id:"outlined-adornment-confirm-password",type:c?"text":"password",onChange:r=>n(r.target.value),endAdornment:e.jsx(y,{position:"end",children:e.jsx(v,{"aria-label":c?"hide the password":"display the password",onClick:U,edge:"end",children:c?e.jsx(P,{}):e.jsx(S,{})})}),label:"Confirm Password"})]}),w&&e.jsx(h,{sx:{ml:"-2rem"},children:e.jsx("ul",{style:{padding:0,margin:0,transform:"scale(0.8)",listStyle:"none"},children:F.map(r=>e.jsx("li",{children:!C.includes(r.id)&&e.jsx(W,{error:!0,children:r.errorMsg})},r.id))})}),e.jsx(Z,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Sign Up"})]}),e.jsxs(f,{align:"center",sx:{py:2},children:["Have an account? ",e.jsx(q,{href:"/",children:"Login"})]})]})})}export{Q as default};
